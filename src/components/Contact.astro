---
import FormGroup from './FormGroup.astro'
---

<section id="contact">
  <header><h3 class="section-title">Contact</h3></header>
  <main>
    <form id="contact-form">
      <FormGroup>
        <label for="name">Name</label>
        <input
          value=""
          autocomplete="off"
          placeholder="Enter your name..."
          type="text"
          name="name"
          id="name"
        />
      </FormGroup>
      <FormGroup>
        <label for="email">Email</label>
        <input
          value=""
          autocomplete="off"
          placeholder="Enter your email..."
          type="email"
          name="email"
          id="email"
        />
      </FormGroup>
      <FormGroup>
        <label for="message">Message</label>
        <textarea
          cols="5"
          autocomplete="off"
          placeholder="Enter your message..."
          name="message"
          id="message"></textarea>
      </FormGroup>
      <FormGroup>
        <button id="button-submit" title="Send email" type="submit">
          Send</button
        >
      </FormGroup>
    </form>
  </main>
</section>

<style>
  label {
    color: #eee;
    font-size: 18px;
  }
  input {
    height: auto;
  }
  input,
  textarea {
    width: 100%;
    background-color: #ccc;
    font-family: sans-serif;
    padding: 8px 8px;
    border: none;
    outline: none;
    border-radius: 4px;
    transition: background-color 0.2s;
    caret-color: #075f45;
  }

  textarea {
    min-height: 100px;
    resize: vertical;
  }
  input:focus,
  textarea:focus {
    background-color: #fff;
  }
  main {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #contact-form {
    width: 100%;
    max-width: 340px;
    padding: 40px 40px;

    border: 1px solid #065055aa;
    border-radius: 12px;

    display: flex;
    flex-direction: column;
    gap: 24px;
  }
  #button-submit {
    justify-self: center;
    width: 100%;
    height: 30px;
    font-size: 18px;
    font-weight: 800;
    outline: none;
    border: none;
    background-color: var(--footer-background-color);
    /* opacity: 75%; */
    color: #fff;
    border-radius: 6px;
    cursor: pointer;
  }
  @media (hover: hover) {
    #button-submit:hover {
      background-color: var(--button-hover-color);
    }
  }
  #button-submit:active {
    background-color: var(--button-active-color);
    transform: scale(0.99);
  }
  @media (max-width: 320px) {
    #contact-form {
      padding: 0px 20px;
      border: none;
    }
  }
</style>

<script>
  const submitButton = document.getElementById('button-submit')
  const handleSubmitForm = (event: Event) => {
    event.preventDefault()

    const name = document.getElementById('name') as HTMLInputElement
    const email = document.getElementById('email') as HTMLInputElement
    const message = document.getElementById('message') as HTMLTextAreaElement

    // TODO: Handle email delivery
    alert('Message sent')

    // Clean the inputs
    if (name) name.value = ''
    if (email) email.value = ''
    if (message) message.value = ''
  }
  submitButton?.addEventListener('click', handleSubmitForm)
</script>
